(this["webpackJsonpreact-comments-example"]=this["webpackJsonpreact-comments-example"]||[]).push([[0],{11:function(e,t,a){e.exports=a(27)},12:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);a(12);var n=a(0),r=a.n(n),l=a(3),c=a.n(l),o=a(10),i=a(9),d=a(6),m=a(8),s=a(7),u=(a(24),"_12xdX"),p="_2STY7",f="_9-5lp",v="_3oc4k",I="_36TCS",b="_CXD_f",h="_27hXc",x="_1blCt",E="_1SugS",g="_qWiSF",y="_1i6uS",N="_155_V",k="_2Axcq",C="_1Njvz",S="_34q_J",_="_3ypnz",U="_l0opN",R="_yEQPV",j="_333BI",O="_2YYVO",A=Object(n.createContext)(),z=function(e){var t=e.children,a=e.onSubmit,l=e.currentUser,c=e.onEdit,o=e.onDelete,i=Object(n.useState)([]),d=i[0],m=i[1];return r.a.createElement(A.Provider,{value:{onSubmit:a,userImg:l.avatarUrl,userId:l.userId,handleReply:function(e){m([].concat(d,[e]))},handleCancel:function(e){var t=[].concat(d).filter((function(t){return t!==e}));m(t)},replies:d,setReplies:m,onEdit:c,onDelete:o}},t)},D=function(e){var t=e.cancellor,a=e.parentId,l=e.child,c=e.value,o=e.handleCancelEdit,i=e.edit,d=Object(n.useState)(""),m=d[0],s=d[1];Object(n.useEffect)((function(){s(c)}),[c]);var u=Object(n.useContext)(A);return r.a.createElement("form",{className:b},r.a.createElement("div",{className:h},r.a.createElement("img",{src:u.userImg,style:{width:36,height:36,borderRadius:18},alt:"userIcon"})),r.a.createElement("input",{className:x,type:"text",placeholder:"Type your reply here.",component:"input",value:m,onChange:function(e){s(e.target.value)}}),r.a.createElement("div",{className:f},r.a.createElement("button",{className:v,onClick:function(){return!0===i?(u.onEdit(t,m,a),o(t)):(u.onSubmit(m,a,l&&l),u.handleCancel(t))},type:"button",disabled:!m,style:m?{backgroundColor:"#30c3fd"}:{backgroundColor:"#84dcff"}},"Post"),(m||a)&&r.a.createElement("button",{className:I,onClick:function(){return o?o(t):u.handleCancel(t)}},"Cancel")))},T={fontSize:"16px"},w={cursor:"pointer",position:"absolute",display:"block",padding:"2px 5px",lineHeight:"20px",right:"-10px",top:"-10px",fontSize:"24px",background:"#ffffff",borderRadius:"18px",border:"1px solid #cfcece",outline:"none"},J={width:"100%",borderBottom:"1px solid gray",fontSize:"18px",textAlign:"center",padding:"5px"},L={width:"100%",padding:"10px 10px"},q={width:" 100%",padding:" 10px 5px",margin:" auto",textAlign:" center"},B={backgroundColor:"transparent",outline:"none",border:"1px solid gray",padding:"4px 12px",cursor:"pointer"},P={backgroundColor:"transparent",outline:"none",border:"1px solid gray",marginLeft:"10px",padding:"4px 12px",cursor:"pointer"},V=function(e){var t=e.i,a=e.reply,l=e.handleReply,c=e.handleEdit,o=e.parentId,i=Object(n.useContext)(A);return r.a.createElement("div",{className:g},r.a.createElement("div",{className:y,style:a&&{marginLeft:15,marginTop:"6px"}},r.a.createElement("div",null,t.text),r.a.createElement("div",{className:N},r.a.createElement("div",null,r.a.createElement("img",{src:t.avatarUrl,style:{width:20,height:20,borderRadius:10},alt:"userIcon"})),r.a.createElement("div",{className:k},t.fullName," "),r.a.createElement("div",null,r.a.createElement("button",{className:C,onClick:function(){return l(t.comId)}}," ",r.a.createElement(d.a,{icon:m.b,size:"1x",color:"#a5a5a5"})," Reply")))),r.a.createElement("div",{className:S},i.userId===t.userId&&r.a.createElement(s.a,{role:"tooltip",trigger:r.a.createElement("button",{className:_},r.a.createElement(d.a,{icon:m.a,size:"1x",color:"#b9b9b9"})),position:"right center",nested:!0},r.a.createElement("div",{className:R},r.a.createElement("div",null,r.a.createElement("button",{className:j,onClick:function(){return c(t.comId)}}," ","edit")),r.a.createElement("div",null,r.a.createElement(s.a,{trigger:r.a.createElement("button",{className:O}," delete"),modal:!0,nested:!0},(function(e){return r.a.createElement("div",{className:"modal",style:T},r.a.createElement("button",{className:"close",onClick:e,style:w},"\xd7"),r.a.createElement("div",{className:"header",style:J}," ","Delete Comment"," "),r.a.createElement("div",{className:"content",style:L}," ","Delete your comment permanently?"),r.a.createElement("div",{className:"actions",style:q},r.a.createElement("button",{className:"button",style:B,onClick:function(){i.onDelete(t.comId,o),e()}},"Delete"),r.a.createElement("button",{className:"button",style:P,onClick:function(){e()}},"Cancel")))})))))))},X=function(e){var t=e.comments,a=Object(n.useState)([]),l=a[0],c=a[1],o=function(e){c([].concat(l,[e]))},i=function(e){var t=[].concat(l).filter((function(t){return t!==e}));c(t)},d=Object(n.useContext)(A);return r.a.createElement("div",null,t.map((function(e,t){return r.a.createElement("div",{key:e.comId},0!==l.filter((function(t){return t===e.comId})).length?r.a.createElement(D,{cancellor:e.comId,value:e.text,handleCancelEdit:i,edit:!0}):r.a.createElement(V,{i:e,handleReply:d.handleReply,handleEdit:o}),0!==d.replies.filter((function(t){return t===e.comId})).length&&r.a.createElement(D,{cancellor:e.comId,parentId:e.comId}),r.a.createElement("div",{className:U},e.replies&&e.replies.map((function(t,a){return r.a.createElement("div",{key:t.comId},0!==l.filter((function(e){return e===t.comId})).length?r.a.createElement(D,{cancellor:t.comId,value:t.text,handleCancelEdit:i,edit:!0,parentId:e.comId}):r.a.createElement(V,{i:t,reply:!0,parentId:e.comId,handleReply:d.handleReply,handleEdit:o}),0!==d.replies.filter((function(e){return e===t.comId})).length&&r.a.createElement(D,{cancellor:t.comId,parentId:e.comId,child:!0}))}))))})))},Y=function(e){var t=e.commentsArray,a=e.currentUser,l=e.onSubmit,c=e.editText,o=e.deleteText,i=Object(n.useState)(t),d=i[0],m=i[1];return Object(n.useEffect)((function(){m(t)}),[t]),r.a.createElement(z,{onSubmit:l,currentUser:a,onEdit:c,onDelete:o},r.a.createElement("div",{className:u},r.a.createElement("div",{className:p},r.a.createElement(D,{onSubmit:l,authorImg:a.avatarUrl})),r.a.createElement("div",{className:E},r.a.createElement(X,{comments:d}))))},F=(a(25),a(4)),H=a.n(F);a(26);var W=()=>{const e=Object(n.useState)(i),t=Object(o.a)(e,2),a=t[0],l=t[1],c="https://ui-avatars.com/api/name=Riya&background=random";let d=0;return a.map(e=>{d+=1,e.replies&&e.replies.map(e=>d+=1)}),r.a.createElement("div",{className:"commentSection"},r.a.createElement("div",{className:"header"},d," Comments"),r.a.createElement(Y,{currentUser:{userId:"01a",avatarUrl:c},commentsArray:a,onSubmit:(e,t,n)=>{if(e.length>0){if(!t&&!n)return void l([...a,{userId:"01a",comId:H()(),avatarUrl:c,fullName:"xyz",text:e}]);if(t&&n){const n=[...a];let r=n.findIndex(e=>e.comId===t);return n[r].replies.push({userId:"01a",comId:H()(),avatarUrl:c,fullName:"xyz",text:e}),void l(n)}if(t&&!n){let n=[...a],r=n.findIndex(e=>e.comId===t),o=void 0===n[r].replies?[]:[...n[r].replies];return o.push({userId:"01a",comId:H()(),avatarUrl:c,fullName:"xyz",text:e}),n[r].replies=o,void l(n)}}},editText:(e,t,n)=>{if(void 0===n){let n=[...a],r=n.findIndex(t=>t.comId===e);n[r].text=t,l(n)}else if(void 0!==n){let r=[...a],c=r.findIndex(e=>e.comId===n),o=r[c].replies.findIndex(t=>t.comId===e);r[c].replies[o].text=t,l(r)}},deleteText:(e,t)=>{if(void 0===t){let t=[...a].filter(t=>t.comId!==e);l(t)}else if(void 0!==t){let n=[...a],r=n.findIndex(e=>e.comId===t),c=n[r].replies.filter(t=>t.comId!==e);n[r].replies=c,l(n)}}}))};c.a.render(r.a.createElement(W,null),document.getElementById("root"))},9:function(e){e.exports=JSON.parse('[{"userId":"01a","comId":"012","fullName":"Riya Negi","avatarUrl":"https://ui-avatars.com/api/name=Riya&background=random","text":"Hey, Loved your blog! ","replies":[{"userId":"02a","comId":"013","fullName":"Adam Scott","avatarUrl":"https://ui-avatars.com/api/name=Adam&background=random","text":"Thanks! It took me 1 month to finish this project but I am glad it helped out someone!\ud83e\udd70"},{"userId":"01a","comId":"014","fullName":"Riya Negi","avatarUrl":"https://ui-avatars.com/api/name=Riya&background=random","text":"thanks!\ud83d\ude0a"}]},{"userId":"02a","comId":"07","fullName":"Adam Scott","text":"Follow my page for more such interesting blogs!\ud83d\ude07","avatarUrl":"https://ui-avatars.com/api/name=Adam&background=random"},{"userId":"02a","comId":"015","fullName":"Robert Jae","avatarUrl":"https://ui-avatars.com/api/name=Robert&background=random","text":"Woah pretty helpful! how did you solve for x?","replies":[{"userId":"01b","comId":"016","fullName":"Adam Scott","text":"Thanks! refer to this link -> acs.com","avatarUrl":"https://ui-avatars.com/api/name=Adam&background=random"}]},{"userId":"02b","comId":"017","fullName":"Lily","text":"I have a doubt about the 4th point\ud83e\udd14","avatarUrl":"https://ui-avatars.com/api/name=Lily&background=random"},{"userId":"01c","comId":"018","fullName":"Derek","text":"Great explanation!!!","avatarUrl":"https://ui-avatars.com/api/name=Derek&background=random"}]')}},[[11,1,2]]]);
//# sourceMappingURL=main.9dd6bf20.chunk.js.map