(this["webpackJsonpreact-comments-example"]=this["webpackJsonpreact-comments-example"]||[]).push([[0],[,,,,,,,,,,function(e){e.exports=JSON.parse('[{"userId":"01a","comId":"012","fullName":"Riya Negi","avatarUrl":"https://ui-avatars.com/api/name=Riya&background=random","text":"Hey, Loved your blog! ","replies":[{"userId":"02a","comId":"013","fullName":"Adam Scott","avatarUrl":"https://ui-avatars.com/api/name=Adam&background=random","text":"Thanks! It took me 1 month to finish this project but I am glad it helped out someone!\ud83e\udd70"},{"userId":"01a","comId":"014","fullName":"Riya Negi","avatarUrl":"https://ui-avatars.com/api/name=Riya&background=random","text":"thanks!\ud83d\ude0a"}]},{"userId":"02a","comId":"07","fullName":"Adam Scott","text":"Follow my page for more such interesting blogs!\ud83d\ude07","avatarUrl":"https://ui-avatars.com/api/name=Adam&background=random"},{"userId":"02a","comId":"015","fullName":"Robert Jae","avatarUrl":"https://ui-avatars.com/api/name=Robert&background=random","text":"Woah pretty helpful! how did you solve for x?","replies":[{"userId":"01b","comId":"016","fullName":"Adam Scott","text":"Thanks! refer to this link -> acs.com","avatarUrl":"https://ui-avatars.com/api/name=Adam&background=random"}]},{"userId":"02b","comId":"017","fullName":"Lily","text":"I have a doubt about the 4th point\ud83e\udd14","avatarUrl":"https://ui-avatars.com/api/name=Lily&background=random"}]')},function(e,t,a){e.exports=a.p+"static/media/user.16c198d1.png"},function(e,t,a){e.exports=a(29)},function(e,t,a){},,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);a(13);var n=a(0),r=a.n(n),c=a(3),l=a.n(c),o=a(4),i=a(10),m=a(5),s=a.n(m),u=(a(20),a(7)),d=a(8),p=a(9),f="_12xdX",v="_2STY7",I="_9-5lp",g="_3oc4k",b="_36TCS",h="_CXD_f",E="_27hXc",x="_1blCt",N="_1SugS",y="_qWiSF",C="_1i6uS",U="_155_V",k="_2Axcq",_="_1Njvz",S="_34q_J",O="_3ypnz",A="_l0opN",j="_yEQPV",w="_333BI",R="_2YYVO",L="_1Vv8n",z="_1Ogr8",T="_1Oc7K",D="_20VaH",J=Object(n.createContext)(),V=function(e){var t=e.children,a=e.currentUser,c=e.setComment,l=e.comments,o=e.signinUrl,i=e.signupUrl,m=e.customInput,u=Object(n.useState)([]),d=u[0],p=u[1],f=Object(n.useState)(),v=f[0],I=f[1],g=Object(n.useState)([]),b=g[0],h=g[1];Object(n.useEffect)((function(){I(!!a)}));var E=function(e,t){if(t){var a=[].concat(b).filter((function(t){return t!==e}));h(a)}else if(!t){var n=[].concat(d).filter((function(t){return t!==e}));p(n)}},x=function(e,t,n){if(e.length>0)if(t||n){if(t&&n){var r=[].concat(l),o=r.findIndex((function(e){return e.comId===t}));r[o].replies.push({userId:a.userId,comId:s()(),avatarUrl:a.avatarUrl,fullName:a.name,text:e}),c(r)}else if(t&&!n){var i=[].concat(l),m=i.findIndex((function(e){return e.comId===t})),u=void 0===i[m].replies?[]:[].concat(i[m].replies);u.push({userId:a.userId,comId:s()(),avatarUrl:a.avatarUrl,fullName:a.name,text:e}),i[m].replies=u,c(i)}}else c([].concat(l,[{userId:a.userId,comId:s()(),avatarUrl:a.avatarUrl,fullName:a.name,text:e}]))},N=function(e,t,a){if(void 0===a){var n=[].concat(l),r=n.findIndex((function(t){return t.comId===e}));n[r].text=t,c(n)}else if(void 0!==a){var o=[].concat(l),i=o.findIndex((function(e){return e.comId===a})),m=o[i].replies.findIndex((function(t){return t.comId===e}));o[i].replies[m].text=t,c(o)}};return r.a.createElement(J.Provider,{value:{onSubmit:x,userImg:a&&a.avatarUrl,userId:a&&a.userId,handleAction:function(e,t){t?h([].concat(b,[e])):p([].concat(d,[e]))},handleCancel:E,replies:d,setReplies:p,editArr:b,onEdit:N,onDelete:function(e,t){if(void 0===t){var a=[].concat(l).filter((function(t){return t.comId!==e}));c(a)}else if(void 0!==t){var n=[].concat(l),r=n.findIndex((function(e){return e.comId===t})),o=n[r].replies.filter((function(t){return t.comId!==e}));n[r].replies=o,c(n)}},signinUrl:o,signupUrl:i,user:v,customInput:m,submit:function(e,t,a,n,r,c){n?(N(e,t,a),E(e,n),r("")):(x(t,a,c),E(e),r(""))}}},t)},P=function(e){var t=e.cancellor,a=e.parentId,c=e.child,l=e.value,o=e.edit,i=e.main,m=Object(n.useState)(""),s=m[0],u=m[1];Object(n.useEffect)((function(){u(l)}),[l]);var d=Object(n.useContext)(J);return r.a.createElement("form",{className:h,style:c||o||void 0!==i?{marginLeft:8}:{marginLeft:36}},r.a.createElement("div",{className:E},r.a.createElement("img",{src:d.userImg,style:{width:38,height:38,borderRadius:19},alt:"userIcon"})),r.a.createElement("input",{className:x,type:"text",placeholder:"Type your reply here.",component:"input",value:s,onChange:function(e){u(e.target.value)}}),r.a.createElement("div",{className:I},r.a.createElement("button",{className:g,onClick:function(){return!0===o?d.submit(t,s,a,!0,u):d.submit(t,s,a,!1,u)},type:"button",disabled:!s,style:s?{backgroundColor:"#30c3fd"}:{backgroundColor:"#84dcff"}},"Post"),(s||a)&&r.a.createElement("button",{className:b,onClick:function(){return o?d.handleCancel(t,o):d.handleCancel(t)}},"Cancel")))},q={fontSize:"16px"},B={cursor:"pointer",position:"absolute",display:"block",padding:"2px 5px",lineHeight:"20px",right:"-10px",top:"-10px",fontSize:"24px",background:"#ffffff",borderRadius:"18px",border:"1px solid #cfcece",outline:"none"},F={width:"100%",borderBottom:"1px solid gray",fontSize:"18px",textAlign:"center",padding:"5px"},H={width:"100%",padding:"10px 10px"},X={width:" 100%",padding:" 10px 5px",margin:" auto",textAlign:" center"},Y={backgroundColor:"transparent",outline:"none",border:"1px solid gray",padding:"4px 12px",cursor:"pointer"},W={backgroundColor:"transparent",outline:"none",border:"1px solid gray",marginLeft:"10px",padding:"4px 12px",cursor:"pointer"},K=function(e){var t=e.i,a=e.reply,c=e.parentId,l=Object(n.useContext)(J);return r.a.createElement("div",{className:y},r.a.createElement("div",{className:C,style:a&&{marginLeft:15,marginTop:"6px"}},r.a.createElement("div",null,t.text),r.a.createElement("div",{className:U},r.a.createElement("div",null,r.a.createElement("img",{src:t.avatarUrl,style:{width:24,height:24,borderRadius:12},alt:"userIcon"})),r.a.createElement("div",{className:k},t.fullName," "),r.a.createElement("div",null,r.a.createElement("button",{className:_,onClick:function(){return l.handleAction(t.comId)},disabled:!l.user}," ",r.a.createElement(d.a,{icon:p.b,size:"1x",color:"#a5a5a5"})," Reply")))),r.a.createElement("div",{className:S},l.userId===t.userId&&l.user&&r.a.createElement(u.a,{role:"tooltip",trigger:r.a.createElement("button",{className:O},r.a.createElement(d.a,{icon:p.a,size:"1x",color:"#b9b9b9"})),position:"right center",nested:!0},r.a.createElement("div",{className:j},r.a.createElement("div",null,r.a.createElement("button",{className:w,onClick:function(){return l.handleAction(t.comId,!0)}}," ","edit")),r.a.createElement("div",null,r.a.createElement(u.a,{trigger:r.a.createElement("button",{className:R}," delete"),modal:!0,nested:!0},(function(e){return r.a.createElement("div",{className:"modal",style:q},r.a.createElement("button",{className:"close",onClick:e,style:B},"\xd7"),r.a.createElement("div",{className:"header",style:F}," ","Delete Comment"," "),r.a.createElement("div",{className:"content",style:H}," ","Delete your comment permanently?"),r.a.createElement("div",{className:"actions",style:X},r.a.createElement("button",{className:"button",style:Y,onClick:function(){l.onDelete(t.comId,c),e()}},"Delete"),r.a.createElement("button",{className:"button",style:W,onClick:function(){e()}},"Cancel")))})))))))},Q=function(e){var t=e.comments,a=Object(n.useContext)(J);return r.a.createElement("div",null,t.map((function(e,t){return r.a.createElement("div",{key:e.comId},0!==a.editArr.filter((function(t){return t===e.comId})).length?a.customInput?a.customInput({cancellor:e.comId,value:e.text,handleCancel:a.handleCancel,submit:a.submit,edit:!0}):r.a.createElement(P,{cancellor:e.comId,value:e.text,edit:!0}):r.a.createElement(K,{i:e,handleEdit:function(){return a.handleAction}}),0!==a.replies.filter((function(t){return t===e.comId})).length&&(a.customInput?a.customInput({cancellor:e.comId,parentId:e.comId,submit:a.submit,handleCancel:a.handleCancel,edit:!1}):r.a.createElement(P,{cancellor:e.comId,parentId:e.comId})),r.a.createElement("div",{className:A},e.replies&&e.replies.map((function(t,n){return r.a.createElement("div",{key:t.comId},0!==a.editArr.filter((function(e){return e===t.comId})).length?a.customInput?a.customInput({cancellor:t.comId,value:t.text,handleCancel:a.handleCancel,edit:!0,parentId:e.comId,submit:a.submit}):r.a.createElement(P,{cancellor:t.comId,value:t.text,edit:!0,parentId:e.comId}):r.a.createElement(K,{i:t,reply:!0,parentId:e.comId,handleEdit:function(){return a.handleAction}}),0!==a.replies.filter((function(e){return e===t.comId})).length&&(a.customInput?a.customInput({cancellor:t.comId,parentId:e.comId,child:!0,submit:a.submit,handleCancel:a.handleCancel,edit:!1}):r.a.createElement(P,{cancellor:t.comId,parentId:e.comId,child:!0})))}))))})))},G=function(){var e=Object(n.useContext)(J),t=function(t){"login"===t.target.name?window.location.href=e.signinUrl:"signup"===t.target.name&&(window.location.href=e.signupUrl)};return r.a.createElement("div",{className:L},r.a.createElement("div",{className:z},"Log in or sign up to leave a comment"),r.a.createElement("div",null,r.a.createElement("button",{className:T,name:"login",onClick:function(e){return t(e)}},"Log In"),r.a.createElement("button",{className:D,name:"signup",onClick:function(e){return t(e)}},"Sign Up")))},M=function(){var e=Object(n.useContext)(J);return e.customInput?e.customInput({authorImg:e.userImg,main:!0,handleCancel:e.handleCancel,submit:e.submit}):r.a.createElement(P,{authorImg:e.userImg,main:!0})},Z=function(e){var t=e.commentsArray,a=e.currentUser,c=e.setComment,l=e.signinUrl,o=e.signupUrl,i=e.customInput,m=Object(n.useState)(t),s=m[0],u=m[1];return Object(n.useEffect)((function(){u(t)}),[t]),r.a.createElement(V,{currentUser:a,setComment:c,comments:s,signinUrl:l,signupUrl:o,customInput:i},r.a.createElement("div",{className:f},r.a.createElement("div",{className:v},o&&!a?r.a.createElement(G,null):r.a.createElement(M,null)),r.a.createElement("div",{className:N},r.a.createElement(Q,{comments:s}))))},$=(a(26),a(27),a(11)),ee=a.n($);a(28);var te=({cancellor:e,parentId:t,value:a,edit:c,submit:l,handleCancel:i})=>{const m=Object(n.useState)(a),s=Object(o.a)(m,2),u=s[0],d=s[1];return r.a.createElement("form",null,r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"row"}," ",r.a.createElement("img",{src:ee.a,style:{width:80,height:80}}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"arrow-left"}),r.a.createElement("div",{className:"input-div"},r.a.createElement("span",{className:"input-name"},"Riya Negi"),r.a.createElement("textarea",{rows:"2",className:"input-box",type:"text",placeholder:"Type your reply here.",component:"input",value:u,onChange:e=>{d(e.target.value)}})))),r.a.createElement("div",{className:"btn-div"},r.a.createElement("button",{className:"post-btn",onClick:()=>l(e,u,t,c,d),type:"submit",disabled:!u},"Post"),r.a.createElement("button",{className:"cancel-btn",onClick:()=>i(e,c)},"Cancel"))))};var ae=()=>{const e=Object(n.useState)(i),t=Object(o.a)(e,2),a=t[0],c=t[1],l="https://ui-avatars.com/api/name=Riya&background=random";let m=0;a.map(e=>{m+=1,e.replies&&e.replies.map(e=>m+=1)});return r.a.createElement("div",{className:"cols"},r.a.createElement("div",{className:"commentSection"},r.a.createElement("div",{className:"header"},m," Comments (user logged in)"),r.a.createElement(Z,{currentUser:{userId:"01a",avatarUrl:l,name:"xyz"},commentsArray:a,setComment:c,signinUrl:"/signin",signupUrl:"/signup"}),r.a.createElement("div",{className:"header"}," Custom Input Field component (user logged in)"),r.a.createElement(Z,{currentUser:{userId:"01a",avatarUrl:l,name:"xyz"},commentsArray:a,setComment:c,signinUrl:"/signin",signupUrl:"/signup",customInput:e=>r.a.createElement(te,{parentId:e.parentId,cancellor:e.cancellor,value:e.value,edit:e.edit,submit:e.submit,handleCancel:e.handleCancel})})),r.a.createElement("div",{class:"verticalLine"}),r.a.createElement("div",{className:"commentSection"},r.a.createElement("div",{className:"header"},m," Comments (user not logged in)"),r.a.createElement(Z,{commentsArray:a,setComment:c,signinUrl:"/signin",signupUrl:"/signup"})))};l.a.render(r.a.createElement(ae,null),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.98c1f6ec.chunk.js.map