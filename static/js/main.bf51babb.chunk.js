(this["webpackJsonpreact-comments-example"]=this["webpackJsonpreact-comments-example"]||[]).push([[0],{11:function(e,t,a){e.exports=a(27)},12:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);a(12);var n=a(0),r=a.n(n),l=a(3),c=a.n(l),o=a(10),i=a(9),m=a(4),s=a.n(m),d=(a(19),a(6)),u=a(7),p=a(8),f="_12xdX",v="_2STY7",g="_9-5lp",E="_3oc4k",I="_36TCS",h="_CXD_f",b="_27hXc",x="_1blCt",y="_1SugS",N="_qWiSF",C="_1i6uS",U="_155_V",k="_2Axcq",_="_1Njvz",S="_34q_J",O="_3ypnz",R="_l0opN",j="_yEQPV",w="_333BI",A="_2YYVO",L="_1Vv8n",z="_1Ogr8",D="_1Oc7K",T="_20VaH",J=Object(n.createContext)(),V=function(e){var t=e.children,a=e.currentUser,l=e.setComment,c=e.comments,o=e.signinUrl,i=e.signupUrl,m=Object(n.useState)([]),d=m[0],u=m[1],p=Object(n.useState)(),f=p[0],v=p[1];Object(n.useEffect)((function(){a?(console.log("1 called"),v(!0)):(console.log("2 called"),v(!1))}));return r.a.createElement(J.Provider,{value:{onSubmit:function(e,t,n){if(e.length>0)if(t||n){if(t&&n){var r=[].concat(c),o=r.findIndex((function(e){return e.comId===t}));r[o].replies.push({userId:a.userId,comId:s()(),avatarUrl:a.avatarUrl,fullName:a.name,text:e}),l(r)}else if(t&&!n){var i=[].concat(c),m=i.findIndex((function(e){return e.comId===t})),d=void 0===i[m].replies?[]:[].concat(i[m].replies);d.push({userId:a.userId,comId:s()(),avatarUrl:a.avatarUrl,fullName:a.name,text:e}),i[m].replies=d,l(i)}}else l([].concat(c,[{userId:a.userId,comId:s()(),avatarUrl:a.avatarUrl,fullName:a.name,text:e}]))},userImg:a&&a.avatarUrl,userId:a&&a.userId,handleReply:function(e){u([].concat(d,[e]))},handleCancel:function(e){var t=[].concat(d).filter((function(t){return t!==e}));u(t)},replies:d,setReplies:u,onEdit:function(e,t,a){if(void 0===a){var n=[].concat(c),r=n.findIndex((function(t){return t.comId===e}));n[r].text=t,l(n)}else if(void 0!==a){var o=[].concat(c),i=o.findIndex((function(e){return e.comId===a})),m=o[i].replies.findIndex((function(t){return t.comId===e}));o[i].replies[m].text=t,l(o)}},onDelete:function(e,t){if(void 0===t){var a=[].concat(c).filter((function(t){return t.comId!==e}));l(a)}else if(void 0!==t){var n=[].concat(c),r=n.findIndex((function(e){return e.comId===t})),o=n[r].replies.filter((function(t){return t.comId!==e}));n[r].replies=o,l(n)}},signinUrl:o,signupUrl:i,user:f}},t)},q=function(e){var t=e.cancellor,a=e.parentId,l=e.child,c=e.value,o=e.handleCancelEdit,i=e.edit,m=e.main,s=Object(n.useState)(""),d=s[0],u=s[1];Object(n.useEffect)((function(){u(c)}),[c]);var p=Object(n.useContext)(J);return r.a.createElement("form",{className:h,style:l||i||void 0!==m?{marginLeft:8}:{marginLeft:36}},r.a.createElement("div",{className:b},r.a.createElement("img",{src:p.userImg,style:{width:38,height:38,borderRadius:19},alt:"userIcon"})),r.a.createElement("input",{className:x,type:"text",placeholder:"Type your reply here.",component:"input",value:d,onChange:function(e){u(e.target.value)}}),r.a.createElement("div",{className:g},r.a.createElement("button",{className:E,onClick:function(){return!0===i?(p.onEdit(t,d,a),o(t),u("")):(p.onSubmit(d,a,l&&l),p.handleCancel(t),u(""))},type:"button",disabled:!d,style:d?{backgroundColor:"#30c3fd"}:{backgroundColor:"#84dcff"}},"Post"),(d||a)&&r.a.createElement("button",{className:I,onClick:function(){return o?o(t):p.handleCancel(t)}},"Cancel")))},B={fontSize:"16px"},H={cursor:"pointer",position:"absolute",display:"block",padding:"2px 5px",lineHeight:"20px",right:"-10px",top:"-10px",fontSize:"24px",background:"#ffffff",borderRadius:"18px",border:"1px solid #cfcece",outline:"none"},P={width:"100%",borderBottom:"1px solid gray",fontSize:"18px",textAlign:"center",padding:"5px"},X={width:"100%",padding:"10px 10px"},Y={width:" 100%",padding:" 10px 5px",margin:" auto",textAlign:" center"},F={backgroundColor:"transparent",outline:"none",border:"1px solid gray",padding:"4px 12px",cursor:"pointer"},W={backgroundColor:"transparent",outline:"none",border:"1px solid gray",marginLeft:"10px",padding:"4px 12px",cursor:"pointer"},G=function(e){var t=e.i,a=e.reply,l=e.handleReply,c=e.handleEdit,o=e.parentId,i=Object(n.useContext)(J);return r.a.createElement("div",{className:N},r.a.createElement("div",{className:C,style:a&&{marginLeft:15,marginTop:"6px"}},r.a.createElement("div",null,t.text),r.a.createElement("div",{className:U},r.a.createElement("div",null,r.a.createElement("img",{src:t.avatarUrl,style:{width:24,height:24,borderRadius:12},alt:"userIcon"})),r.a.createElement("div",{className:k},t.fullName," "),r.a.createElement("div",null,r.a.createElement("button",{className:_,onClick:function(){return l(t.comId)},disabled:!i.user}," ",r.a.createElement(u.a,{icon:p.b,size:"1x",color:"#a5a5a5"})," Reply")))),r.a.createElement("div",{className:S},i.userId===t.userId&&i.user&&r.a.createElement(d.a,{role:"tooltip",trigger:r.a.createElement("button",{className:O},r.a.createElement(u.a,{icon:p.a,size:"1x",color:"#b9b9b9"})),position:"right center",nested:!0},r.a.createElement("div",{className:j},r.a.createElement("div",null,r.a.createElement("button",{className:w,onClick:function(){return c(t.comId)}}," ","edit")),r.a.createElement("div",null,r.a.createElement(d.a,{trigger:r.a.createElement("button",{className:A}," delete"),modal:!0,nested:!0},(function(e){return r.a.createElement("div",{className:"modal",style:B},r.a.createElement("button",{className:"close",onClick:e,style:H},"\xd7"),r.a.createElement("div",{className:"header",style:P}," ","Delete Comment"," "),r.a.createElement("div",{className:"content",style:X}," ","Delete your comment permanently?"),r.a.createElement("div",{className:"actions",style:Y},r.a.createElement("button",{className:"button",style:F,onClick:function(){i.onDelete(t.comId,o),e()}},"Delete"),r.a.createElement("button",{className:"button",style:W,onClick:function(){e()}},"Cancel")))})))))))},K=function(e){var t=e.comments,a=Object(n.useState)([]),l=a[0],c=a[1],o=function(e){c([].concat(l,[e]))},i=function(e){var t=[].concat(l).filter((function(t){return t!==e}));c(t)},m=Object(n.useContext)(J);return r.a.createElement("div",null,t.map((function(e,t){return r.a.createElement("div",{key:e.comId},0!==l.filter((function(t){return t===e.comId})).length?r.a.createElement(q,{cancellor:e.comId,value:e.text,handleCancelEdit:i,edit:!0}):r.a.createElement(G,{i:e,handleReply:m.handleReply,handleEdit:o}),0!==m.replies.filter((function(t){return t===e.comId})).length&&r.a.createElement(q,{cancellor:e.comId,parentId:e.comId}),r.a.createElement("div",{className:R},e.replies&&e.replies.map((function(t,a){return r.a.createElement("div",{key:t.comId},0!==l.filter((function(e){return e===t.comId})).length?r.a.createElement(q,{cancellor:t.comId,value:t.text,handleCancelEdit:i,edit:!0,parentId:e.comId}):r.a.createElement(G,{i:t,reply:!0,parentId:e.comId,handleReply:m.handleReply,handleEdit:o}),0!==m.replies.filter((function(e){return e===t.comId})).length&&r.a.createElement(q,{cancellor:t.comId,parentId:e.comId,child:!0}))}))))})))},Q=function(){var e=Object(n.useContext)(J),t=function(t){"login"===t.target.name?window.location.href=e.signinUrl:"signup"===t.target.name&&(window.location.href=e.signupUrl)};return r.a.createElement("div",{className:L},r.a.createElement("div",{className:z},"Log in or sign up to leave a comment"),r.a.createElement("div",null,r.a.createElement("button",{className:D,name:"login",onClick:function(e){return t(e)}},"Log In"),r.a.createElement("button",{className:T,name:"signup",onClick:function(e){return t(e)}},"Sign Up")))},M=function(e){var t=e.commentsArray,a=e.currentUser,l=e.setComment,c=e.signinUrl,o=e.signupUrl,i=Object(n.useState)(t),m=i[0],s=i[1];return Object(n.useEffect)((function(){s(t)}),[t]),r.a.createElement(V,{currentUser:a,setComment:l,comments:m,signinUrl:c,signupUrl:o},r.a.createElement("div",{className:f},r.a.createElement("div",{className:v},o&&!a?r.a.createElement(Q,null):r.a.createElement(q,{authorImg:a.avatarUrl,main:!0})),r.a.createElement("div",{className:y},r.a.createElement(K,{comments:m}))))};a(25),a(26);var Z=()=>{const e=Object(n.useState)(i),t=Object(o.a)(e,2),a=t[0],l=t[1];let c=0;return a.map(e=>{c+=1,e.replies&&e.replies.map(e=>c+=1)}),r.a.createElement("div",{className:"cols"},r.a.createElement("div",{className:"commentSection"},r.a.createElement("div",{className:"header"},c," Comments (user logged in)"),r.a.createElement(M,{currentUser:{userId:"01a",avatarUrl:"https://ui-avatars.com/api/name=Riya&background=random",name:"xyz"},commentsArray:a,setComment:l,signinUrl:"/signin",signupUrl:"/signup"})),r.a.createElement("div",{class:"verticalLine"}),r.a.createElement("div",{className:"commentSection"},r.a.createElement("div",{className:"header"},c," Comments (user not logged in)"),r.a.createElement(M,{commentsArray:a,setComment:l,signinUrl:"/signin",signupUrl:"/signup"})))};c.a.render(r.a.createElement(Z,null),document.getElementById("root"))},9:function(e){e.exports=JSON.parse('[{"userId":"01a","comId":"012","fullName":"Riya Negi","avatarUrl":"https://ui-avatars.com/api/name=Riya&background=random","text":"Hey, Loved your blog! ","replies":[{"userId":"02a","comId":"013","fullName":"Adam Scott","avatarUrl":"https://ui-avatars.com/api/name=Adam&background=random","text":"Thanks! It took me 1 month to finish this project but I am glad it helped out someone!\ud83e\udd70"},{"userId":"01a","comId":"014","fullName":"Riya Negi","avatarUrl":"https://ui-avatars.com/api/name=Riya&background=random","text":"thanks!\ud83d\ude0a"}]},{"userId":"02a","comId":"07","fullName":"Adam Scott","text":"Follow my page for more such interesting blogs!\ud83d\ude07","avatarUrl":"https://ui-avatars.com/api/name=Adam&background=random"},{"userId":"02a","comId":"015","fullName":"Robert Jae","avatarUrl":"https://ui-avatars.com/api/name=Robert&background=random","text":"Woah pretty helpful! how did you solve for x?","replies":[{"userId":"01b","comId":"016","fullName":"Adam Scott","text":"Thanks! refer to this link -> acs.com","avatarUrl":"https://ui-avatars.com/api/name=Adam&background=random"}]},{"userId":"02b","comId":"017","fullName":"Lily","text":"I have a doubt about the 4th point\ud83e\udd14","avatarUrl":"https://ui-avatars.com/api/name=Lily&background=random"},{"userId":"01c","comId":"018","fullName":"Derek","text":"Great explanation!!!","avatarUrl":"https://ui-avatars.com/api/name=Derek&background=random"}]')}},[[11,1,2]]]);
//# sourceMappingURL=main.bf51babb.chunk.js.map