(this["webpackJsonpreact-comments-example"]=this["webpackJsonpreact-comments-example"]||[]).push([[0],{11:function(e,t,a){e.exports=a(27)},12:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);a(12);var n=a(0),r=a.n(n),c=a(3),l=a.n(c),o=a(10),i=a(9),m=a(4),d=a.n(m),s=(a(19),a(6)),u=a(7),p=a(8),f="_12xdX",v="_2STY7",I="_9-5lp",h="_3oc4k",E="_36TCS",b="_CXD_f",x="_27hXc",g="_1blCt",y="_1SugS",N="_qWiSF",k="_1i6uS",C="_155_V",_="_2Axcq",U="_1Njvz",S="_34q_J",R="_3ypnz",j="_l0opN",O="_yEQPV",A="_333BI",w="_2YYVO",z=Object(n.createContext)(),D=function(e){var t=e.children,a=e.currentUser,c=e.setComment,l=e.comments,o=Object(n.useState)([]),i=o[0],m=o[1];return r.a.createElement(z.Provider,{value:{onSubmit:function(e,t,n){if(e.length>0)if(t||n){if(t&&n){var r=[].concat(l),o=r.findIndex((function(e){return e.comId===t}));r[o].replies.push({userId:a.userId,comId:d()(),avatarUrl:a.avatarUrl,fullName:a.name,text:e}),c(r)}else if(t&&!n){var i=[].concat(l),m=i.findIndex((function(e){return e.comId===t})),s=void 0===i[m].replies?[]:[].concat(i[m].replies);s.push({userId:a.userId,comId:d()(),avatarUrl:a.avatarUrl,fullName:a.name,text:e}),i[m].replies=s,c(i)}}else c([].concat(l,[{userId:a.userId,comId:d()(),avatarUrl:a.avatarUrl,fullName:a.name,text:e}]))},userImg:a.avatarUrl,userId:a.userId,handleReply:function(e){m([].concat(i,[e]))},handleCancel:function(e){var t=[].concat(i).filter((function(t){return t!==e}));m(t)},replies:i,setReplies:m,onEdit:function(e,t,a){if(void 0===a){var n=[].concat(l),r=n.findIndex((function(t){return t.comId===e}));n[r].text=t,c(n)}else if(void 0!==a){var o=[].concat(l),i=o.findIndex((function(e){return e.comId===a})),m=o[i].replies.findIndex((function(t){return t.comId===e}));o[i].replies[m].text=t,c(o)}},onDelete:function(e,t){if(void 0===t){var a=[].concat(l).filter((function(t){return t.comId!==e}));c(a)}else if(void 0!==t){var n=[].concat(l),r=n.findIndex((function(e){return e.comId===t})),o=n[r].replies.filter((function(t){return t.comId!==e}));n[r].replies=o,c(n)}}}},t)},L=function(e){var t=e.cancellor,a=e.parentId,c=e.child,l=e.value,o=e.handleCancelEdit,i=e.edit,m=e.main,d=Object(n.useState)(""),s=d[0],u=d[1];Object(n.useEffect)((function(){u(l)}),[l]);var p=Object(n.useContext)(z);return r.a.createElement("form",{className:b,style:c||i||void 0!==m?{marginLeft:8}:{marginLeft:36}},r.a.createElement("div",{className:x},r.a.createElement("img",{src:p.userImg,style:{width:38,height:38,borderRadius:19},alt:"userIcon"})),r.a.createElement("input",{className:g,type:"text",placeholder:"Type your reply here.",component:"input",value:s,onChange:function(e){u(e.target.value)}}),r.a.createElement("div",{className:I},r.a.createElement("button",{className:h,onClick:function(){return!0===i?(p.onEdit(t,s,a),o(t),u("")):(p.onSubmit(s,a,c&&c),p.handleCancel(t),u(""))},type:"button",disabled:!s,style:s?{backgroundColor:"#30c3fd"}:{backgroundColor:"#84dcff"}},"Post"),(s||a)&&r.a.createElement("button",{className:E,onClick:function(){return o?o(t):p.handleCancel(t)}},"Cancel")))},T={fontSize:"16px"},J={cursor:"pointer",position:"absolute",display:"block",padding:"2px 5px",lineHeight:"20px",right:"-10px",top:"-10px",fontSize:"24px",background:"#ffffff",borderRadius:"18px",border:"1px solid #cfcece",outline:"none"},q={width:"100%",borderBottom:"1px solid gray",fontSize:"18px",textAlign:"center",padding:"5px"},B={width:"100%",padding:"10px 10px"},P={width:" 100%",padding:" 10px 5px",margin:" auto",textAlign:" center"},V={backgroundColor:"transparent",outline:"none",border:"1px solid gray",padding:"4px 12px",cursor:"pointer"},X={backgroundColor:"transparent",outline:"none",border:"1px solid gray",marginLeft:"10px",padding:"4px 12px",cursor:"pointer"},Y=function(e){var t=e.i,a=e.reply,c=e.handleReply,l=e.handleEdit,o=e.parentId,i=Object(n.useContext)(z);return r.a.createElement("div",{className:N},r.a.createElement("div",{className:k,style:a&&{marginLeft:15,marginTop:"6px"}},r.a.createElement("div",null,t.text),r.a.createElement("div",{className:C},r.a.createElement("div",null,r.a.createElement("img",{src:t.avatarUrl,style:{width:24,height:24,borderRadius:12},alt:"userIcon"})),r.a.createElement("div",{className:_},t.fullName," "),r.a.createElement("div",null,r.a.createElement("button",{className:U,onClick:function(){return c(t.comId)}}," ",r.a.createElement(u.a,{icon:p.b,size:"1x",color:"#a5a5a5"})," Reply")))),r.a.createElement("div",{className:S},i.userId===t.userId&&r.a.createElement(s.a,{role:"tooltip",trigger:r.a.createElement("button",{className:R},r.a.createElement(u.a,{icon:p.a,size:"1x",color:"#b9b9b9"})),position:"right center",nested:!0},r.a.createElement("div",{className:O},r.a.createElement("div",null,r.a.createElement("button",{className:A,onClick:function(){return l(t.comId)}}," ","edit")),r.a.createElement("div",null,r.a.createElement(s.a,{trigger:r.a.createElement("button",{className:w}," delete"),modal:!0,nested:!0},(function(e){return r.a.createElement("div",{className:"modal",style:T},r.a.createElement("button",{className:"close",onClick:e,style:J},"\xd7"),r.a.createElement("div",{className:"header",style:q}," ","Delete Comment"," "),r.a.createElement("div",{className:"content",style:B}," ","Delete your comment permanently?"),r.a.createElement("div",{className:"actions",style:P},r.a.createElement("button",{className:"button",style:V,onClick:function(){i.onDelete(t.comId,o),e()}},"Delete"),r.a.createElement("button",{className:"button",style:X,onClick:function(){e()}},"Cancel")))})))))))},F=function(e){var t=e.comments,a=Object(n.useState)([]),c=a[0],l=a[1],o=function(e){l([].concat(c,[e]))},i=function(e){var t=[].concat(c).filter((function(t){return t!==e}));l(t)},m=Object(n.useContext)(z);return r.a.createElement("div",null,t.map((function(e,t){return r.a.createElement("div",{key:e.comId},0!==c.filter((function(t){return t===e.comId})).length?r.a.createElement(L,{cancellor:e.comId,value:e.text,handleCancelEdit:i,edit:!0}):r.a.createElement(Y,{i:e,handleReply:m.handleReply,handleEdit:o}),0!==m.replies.filter((function(t){return t===e.comId})).length&&r.a.createElement(L,{cancellor:e.comId,parentId:e.comId}),r.a.createElement("div",{className:j},e.replies&&e.replies.map((function(t,a){return r.a.createElement("div",{key:t.comId},0!==c.filter((function(e){return e===t.comId})).length?r.a.createElement(L,{cancellor:t.comId,value:t.text,handleCancelEdit:i,edit:!0,parentId:e.comId}):r.a.createElement(Y,{i:t,reply:!0,parentId:e.comId,handleReply:m.handleReply,handleEdit:o}),0!==m.replies.filter((function(e){return e===t.comId})).length&&r.a.createElement(L,{cancellor:t.comId,parentId:e.comId,child:!0}))}))))})))},H=function(e){var t=e.commentsArray,a=e.currentUser,c=e.setComment,l=Object(n.useState)(t),o=l[0],i=l[1];return Object(n.useEffect)((function(){i(t)}),[t]),r.a.createElement(D,{currentUser:a,setComment:c,comments:o},r.a.createElement("div",{className:f},r.a.createElement("div",{className:v},r.a.createElement(L,{authorImg:a.avatarUrl,main:!0})),r.a.createElement("div",{className:y},r.a.createElement(F,{comments:o}))))};a(25),a(26);var W=()=>{const e=Object(n.useState)(i),t=Object(o.a)(e,2),a=t[0],c=t[1];let l=0;return a.map(e=>{l+=1,e.replies&&e.replies.map(e=>l+=1)}),r.a.createElement("div",{className:"commentSection"},r.a.createElement("div",{className:"header"},l," Comments"),r.a.createElement(H,{currentUser:{userId:"01a",avatarUrl:"https://ui-avatars.com/api/name=Riya&background=random",name:"xyz"},commentsArray:a,setComment:c}))};l.a.render(r.a.createElement(W,null),document.getElementById("root"))},9:function(e){e.exports=JSON.parse('[{"userId":"01a","comId":"012","fullName":"Riya Negi","avatarUrl":"https://ui-avatars.com/api/name=Riya&background=random","text":"Hey, Loved your blog! ","replies":[{"userId":"02a","comId":"013","fullName":"Adam Scott","avatarUrl":"https://ui-avatars.com/api/name=Adam&background=random","text":"Thanks! It took me 1 month to finish this project but I am glad it helped out someone!\ud83e\udd70"},{"userId":"01a","comId":"014","fullName":"Riya Negi","avatarUrl":"https://ui-avatars.com/api/name=Riya&background=random","text":"thanks!\ud83d\ude0a"}]},{"userId":"02a","comId":"07","fullName":"Adam Scott","text":"Follow my page for more such interesting blogs!\ud83d\ude07","avatarUrl":"https://ui-avatars.com/api/name=Adam&background=random"},{"userId":"02a","comId":"015","fullName":"Robert Jae","avatarUrl":"https://ui-avatars.com/api/name=Robert&background=random","text":"Woah pretty helpful! how did you solve for x?","replies":[{"userId":"01b","comId":"016","fullName":"Adam Scott","text":"Thanks! refer to this link -> acs.com","avatarUrl":"https://ui-avatars.com/api/name=Adam&background=random"}]},{"userId":"02b","comId":"017","fullName":"Lily","text":"I have a doubt about the 4th point\ud83e\udd14","avatarUrl":"https://ui-avatars.com/api/name=Lily&background=random"},{"userId":"01c","comId":"018","fullName":"Derek","text":"Great explanation!!!","avatarUrl":"https://ui-avatars.com/api/name=Derek&background=random"}]')}},[[11,1,2]]]);
//# sourceMappingURL=main.1381e7e8.chunk.js.map