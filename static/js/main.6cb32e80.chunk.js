(this["webpackJsonpreact-comments-example"]=this["webpackJsonpreact-comments-example"]||[]).push([[0],{11:function(e,t,a){e.exports=a(26)},12:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);a(12);var n=a(0),r=a.n(n),l=a(3),c=a.n(l),i=a(10),o=a(9),s=a(6),d=a(8),m=a(7),u=(a(24),"_12xdX"),p="_2STY7",v="_9-5lp",f="_3oc4k",b="_36TCS",I="_CXD_f",E="_27hXc",x="_1blCt",h="_1SugS",g="_qWiSF",y="_1i6uS",N="_155_V",_="_2Axcq",C="_1Njvz",S="_34q_J",k="_3ypnz",R="_l0opN",U="_yEQPV",j="_333BI",O="_2YYVO",z=Object(n.createContext)(),T=function(e){var t=e.children,a=e.onSubmit,l=e.currentUser,c=e.onEdit,i=e.onDelete,o=Object(n.useState)([]),s=o[0],d=o[1];return r.a.createElement(z.Provider,{value:{onSubmit:a,userImg:l.avatarUrl,userId:l.userId,handleReply:function(e){d([].concat(s,[e]))},handleCancel:function(e){var t=[].concat(s).filter((function(t){return t!==e}));d(t)},replies:s,setReplies:d,onEdit:c,onDelete:i}},t)},A=function(e){var t=e.cancellor,a=e.parentId,l=e.child,c=e.value,i=e.handleCancelEdit,o=e.edit,s=Object(n.useState)(""),d=s[0],m=s[1];Object(n.useEffect)((function(){m(c)}),[c]);var u=Object(n.useContext)(z);return console.log("edit",o),r.a.createElement("form",{className:I},r.a.createElement("div",{className:E},r.a.createElement("img",{src:u.userImg,style:{width:36,height:36,borderRadius:18},alt:"userIcon"})),r.a.createElement("input",{className:x,type:"text",placeholder:"Type your reply here.",component:"input",value:d,onChange:function(e){m(e.target.value)}}),r.a.createElement("div",{className:v},r.a.createElement("div",{className:f,onClick:function(){return!0===o?(u.onEdit(t,d,a),i(t)):(u.onSubmit(d,a,l&&l),u.handleCancel(t))}},"Post"),r.a.createElement("div",{className:b,onClick:function(){return i?i(t):u.handleCancel(t)}},"Cancel")))},D={fontSize:"16px"},w={cursor:"pointer",position:"absolute",display:"block",padding:"2px 5px",lineHeight:"20px",right:"-10px",top:"-10px",fontSize:"24px",background:"#ffffff",borderRadius:"18px",border:"1px solid #cfcece",outline:"none"},J={width:"100%",borderBottom:"1px solid gray",fontSize:"18px",textAlign:"center",padding:"5px"},B={width:"100%",padding:"10px 10px"},G={width:" 100%",padding:" 10px 5px",margin:" auto",textAlign:" center"},q={backgroundColor:"transparent",outline:"none",border:"1px solid gray",padding:"4px 12px",cursor:"pointer"},H={backgroundColor:"transparent",outline:"none",border:"1px solid gray",marginLeft:"10px",padding:"4px 12px",cursor:"pointer"},P=function(e){var t=e.i,a=e.reply,l=e.handleReply,c=e.handleEdit,i=e.parentId,o=Object(n.useContext)(z);return r.a.createElement("div",{className:g},r.a.createElement("div",{className:y,style:a&&{marginLeft:15}},r.a.createElement("div",null,t.text),r.a.createElement("div",{className:N},r.a.createElement("div",null,r.a.createElement("img",{src:t.avatarUrl,style:{width:20,height:20,borderRadius:10},alt:"userIcon"})),r.a.createElement("div",{className:_},t.fullName," "),r.a.createElement("div",null,r.a.createElement("button",{className:C,onClick:function(){return l(t.comId)}}," ",r.a.createElement(s.a,{icon:d.b,size:"1x",color:"#a5a5a5"})," Reply")))),r.a.createElement("div",{className:S},o.userId===t.userId&&r.a.createElement(m.a,{role:"tooltip",trigger:r.a.createElement("button",{className:k},r.a.createElement(s.a,{icon:d.a,size:"1x",color:"#b9b9b9"})),position:"right center",nested:!0},r.a.createElement("div",{className:U},r.a.createElement("div",null,r.a.createElement("button",{className:j,onClick:function(){return c(t.comId)}}," ","edit")),r.a.createElement("div",null,r.a.createElement(m.a,{trigger:r.a.createElement("button",{className:O}," delete"),modal:!0,nested:!0},(function(e){return r.a.createElement("div",{className:"modal",style:D},r.a.createElement("button",{className:"close",onClick:e,style:w},"\xd7"),r.a.createElement("div",{className:"header",style:J}," ","Delete Comment"," "),r.a.createElement("div",{className:"content",style:B}," ","Delete your comment permanently?"),r.a.createElement("div",{className:"actions",style:G},r.a.createElement("button",{className:"button",style:q,onClick:function(){o.onDelete(t.comId,i),e()}},"Delete"),r.a.createElement("button",{className:"button",style:H,onClick:function(){e()}},"Cancel")))})))))))},V=function(e){var t=e.comments,a=Object(n.useState)([]),l=a[0],c=a[1],i=function(e){c([].concat(l,[e]))},o=function(e){var t=[].concat(l).filter((function(t){return t!==e}));c(t)},s=Object(n.useContext)(z);return r.a.createElement("div",null,t.map((function(e,t){return r.a.createElement("div",{key:e.comId},0!==l.filter((function(t){return t===e.comId})).length?r.a.createElement(A,{cancellor:e.comId,value:e.text,handleCancelEdit:o,edit:!0}):r.a.createElement(P,{i:e,handleReply:s.handleReply,handleEdit:i}),0!==s.replies.filter((function(t){return t===e.comId})).length&&r.a.createElement(A,{cancellor:e.comId,parentId:e.comId}),r.a.createElement("div",{className:R},e.replies&&e.replies.map((function(t,a){return r.a.createElement("div",{key:t.comId},0!==l.filter((function(e){return e===t.comId})).length?r.a.createElement(A,{cancellor:t.comId,value:t.text,handleCancelEdit:o,edit:!0,parentId:e.comId}):r.a.createElement(P,{i:t,reply:!0,parentId:e.comId,handleReply:s.handleReply,handleEdit:i}),0!==s.replies.filter((function(e){return e===t.comId})).length&&r.a.createElement(A,{cancellor:t.comId,parentId:e.comId,child:!0}))}))))})))},X=function(e){var t=e.commentsArray,a=e.currentUser,l=e.onSubmit,c=e.editText,i=e.deleteText,o=Object(n.useState)(t),s=o[0],d=o[1];return Object(n.useEffect)((function(){d(t)}),[t]),r.a.createElement(T,{onSubmit:l,currentUser:a,onEdit:c,onDelete:i},r.a.createElement("div",{className:u},r.a.createElement("div",{className:p},r.a.createElement(A,{onSubmit:l,authorImg:a.avatarUrl})),r.a.createElement("div",{className:h},r.a.createElement(V,{comments:s}))))},Y=(a(25),a(4)),L=a.n(Y);var F=()=>{const e=Object(n.useState)(o),t=Object(i.a)(e,2),a=t[0],l=t[1],c="https://avatars.dicebear.com/4.5/api/bottts/Riya_GeS43.svg";return r.a.createElement(X,{currentUser:{userId:"01a",avatarUrl:c},commentsArray:a,onSubmit:(e,t,n)=>{if(e.length>0){if(!t&&!n)return void l([...a,{userId:"01a",comId:L()(),avatarUrl:c,fullName:"xyz",text:e}]);if(t&&n){const n=[...a];let r=n.findIndex(e=>e.comId===t);return n[r].replies.push({userId:"01a",comId:L()(),avatarUrl:c,fullName:"xyz",text:e}),void l(n)}if(t&&!n){let n=[...a],r=n.findIndex(e=>e.comId===t),i=void 0===n[r].replies?[]:[...n[r].replies];return i.push({userId:"01a",comId:L()(),avatarUrl:c,fullName:"xyz",text:e}),n[r].replies=i,void l(n)}}},editText:(e,t,n)=>{if(void 0===n){let n=[...a],r=n.findIndex(t=>t.comId===e);n[r].text=t,l(n)}else if(void 0!==n){let r=[...a],c=r.findIndex(e=>e.comId===n),i=r[c].replies.findIndex(t=>t.comId===e);r[c].replies[i].text=t,l(r)}},deleteText:(e,t)=>{if(void 0===t){let t=[...a].filter(t=>t.comId!==e);l(t)}else if(void 0!==t){let n=[...a],r=n.findIndex(e=>e.comId===t),c=n[r].replies.filter(t=>t.comId!==e);n[r].replies=c,l(n)}}})};c.a.render(r.a.createElement(F,null),document.getElementById("root"))},9:function(e){e.exports=JSON.parse('[{"userId":"01a","comId":"012","avatarUrl":"https://avatars.dicebear.com/4.5/api/bottts/Riya_GeS43.svg","fullName":"Riya Negi","text":"Hello there","replies":[{"userId":"02a","comId":"013","avatarUrl":"https://avatars.dicebear.com/4.5/api/bottts/Tanvi_Ai90.svg","fullName":"tanvi N","text":"great project"},{"userId":"01a","comId":"014","avatarUrl":"https://avatars.dicebear.com/4.5/api/bottts/Riya_GeS43.svg","fullName":"Riya Negi","text":"thanks!"}]},{"userId":"02a","comId":"015","avatarUrl":"https://avatars.dicebear.com/4.5/api/bottts/Tanvi_Ai90.svg","fullName":"Tanvi N","text":"Hello0oo0oo","replies":[{"userId":"01b","comId":"016","avatarUrl":"https://avatars.dicebear.com/4.5/api/bottts/Sayli_s5J0.svg","fullName":"Chalmal","text":"ssup!"}]},{"userId":"02b","comId":"017","avatarUrl":"https://avatars.dicebear.com/4.5/api/bottts/Riya_GeS43.svg","fullName":"Rihanna","text":"kya bolti public!"},{"userId":"01c","comId":"018","avatarUrl":"https://avatars.dicebear.com/4.5/api/bottts/Ankit_hbM0.svg","fullName":"Beyonce","text":"Ek number project!!!"}]')}},[[11,1,2]]]);
//# sourceMappingURL=main.6cb32e80.chunk.js.map